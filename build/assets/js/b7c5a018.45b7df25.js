"use strict";(self.webpackChunkastrobox_plugin_docs=self.webpackChunkastrobox_plugin_docs||[]).push([[322],{3597:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"JS\u63a5\u53e3/filesystem","title":"FileSystem","description":"\u529f\u80fd\u7b80\u4ecb","source":"@site/docs/JS\u63a5\u53e3/filesystem.md","sourceDirName":"JS\u63a5\u53e3","slug":"/JS\u63a5\u53e3/filesystem","permalink":"/docs/JS\u63a5\u53e3/filesystem","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/JS\u63a5\u53e3/filesystem.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Event","permalink":"/docs/JS\u63a5\u53e3/event"},"next":{"title":"Installer","permalink":"/docs/JS\u63a5\u53e3/installer"}}');var l=s(4848),r=s(8453);const t={},c="FileSystem",d={},o=[{value:"\u529f\u80fd\u7b80\u4ecb",id:"\u529f\u80fd\u7b80\u4ecb",level:2},{value:"\u6743\u9650\u58f0\u660e",id:"\u6743\u9650\u58f0\u660e",level:2},{value:"\u76f8\u5173\u7c7b\u578b",id:"\u76f8\u5173\u7c7b\u578b",level:2},{value:"\u63a5\u53e3",id:"\u63a5\u53e3",level:2},{value:"pickFile",id:"pickfile",level:3},{value:"statFile",id:"statfile",level:3},{value:"readFile",id:"readfile",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"filesystem",children:"FileSystem"})}),"\n",(0,l.jsx)(n.h2,{id:"\u529f\u80fd\u7b80\u4ecb",children:"\u529f\u80fd\u7b80\u4ecb"}),"\n",(0,l.jsx)(n.p,{children:"\u63d0\u4f9b\u6587\u4ef6\u9009\u53d6\u80fd\u529b\uff0c\u65e2\u652f\u6301\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e5f\u652f\u6301\u7eaf\u6587\u672c\u6587\u4ef6\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u6743\u9650\u58f0\u660e",children:"\u6743\u9650\u58f0\u660e"}),"\n",(0,l.jsxs)(n.p,{children:["\u4f7f\u7528\u6b64\u63a5\u53e3\u9700\u8981\u5411manifest\u7684permissions\u4e2d\u52a0\u5165",(0,l.jsx)(n.code,{children:"filesystem"}),"\u6743\u9650"]}),"\n",(0,l.jsx)(n.h2,{id:"\u76f8\u5173\u7c7b\u578b",children:"\u76f8\u5173\u7c7b\u578b"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"PickFileReturn"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"path: string"})," \u2013 \u7cfb\u7edf\u8def\u5f84"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"size: number"})," \u2013 \u5b57\u8282\u5927\u5c0f"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"StatFileReturn"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"size: number"})," - \u6587\u4ef6\u5927\u5c0f"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"ReadFileOptions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"offset: number"})," - \u8bfb\u53d6\u504f\u79fb\u91cf \u9ed8\u8ba4\u503c\uff1a0"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"len: number"})," - \u8bfb\u53d6\u957f\u5ea6 \u9ed8\u8ba4\u503c\uff1a\u6587\u4ef6\u603b\u957f"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"decode_text: boolean"})," - \u662f\u5426\u89e3\u7801\u6210\u6587\u672c \u9ed8\u8ba4\u503c\uff1atrue"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u63a5\u53e3",children:"\u63a5\u53e3"}),"\n",(0,l.jsx)(n.h3,{id:"pickfile",children:"pickFile"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7b7e\u540d"}),"\uff1a",(0,l.jsx)(n.code,{children:"pickFile(): Promise<PickFileReturn>"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u529f\u80fd"}),"\uff1a\u5f39\u51fa\u7cfb\u7edf\u9009\u53d6\u5668\u5e76\u8fd4\u56de\u6240\u9009\u6587\u4ef6\u8def\u5f84\u4e0e\u5927\u5c0f\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"statfile",children:"statFile"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7b7e\u540d"}),"\uff1a",(0,l.jsx)(n.code,{children:"statFile(path: string): Promise<StatFileReturn>"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u529f\u80fd"}),"\uff1a\u8fd4\u56de\u6587\u4ef6\u5143\u6570\u636e\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6ce8\u610f"}),": \u26a0\ufe0f \u53ea\u80fd\u8bfb\u53d6\u7528\u6237\u9009\u62e9\u8fc7\u7684\u6587\u4ef6\uff0c\u4e14path\u53c2\u6570\u5fc5\u987b\u4e3apickFile\u8fd4\u56de\u7684path\uff0c\u5426\u5219\u62a5\u9519"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"readfile",children:"readFile"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7b7e\u540d"}),": ",(0,l.jsx)(n.code,{children:"readFile(path: string, options?: ReadFileOptions): Promise<Uint8Array | string>;"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u529f\u80fd"}),": \u8bfb\u53d6\u6587\u4ef6\uff0c\u5f53options.decode_text\u4e3atrue\u65f6\u8fd4\u56de\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u8fd4\u56deUint8Array"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6ce8\u610f"}),": \u26a0\ufe0f \u53ea\u80fd\u8bfb\u53d6\u7528\u6237\u9009\u62e9\u8fc7\u7684\u6587\u4ef6\uff0c\u4e14path\u53c2\u6570\u5fc5\u987b\u4e3apickFile\u8fd4\u56de\u7684path\uff0c\u5426\u5219\u62a5\u9519"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:'import AstroBox from "astrobox-plugin-sdk";\n\nconst pickRet = await AstroBox.filesystem.pickFile();\nconst data = await AstroBox.filesystem.readFile(pickRet.path)\nconsole.log(`\u6587\u4ef6\u7684\u5185\u5bb9\u4e3a: ${data}`)\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var i=s(6540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);
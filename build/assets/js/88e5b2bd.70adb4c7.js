"use strict";(self.webpackChunkastrobox_plugin_docs=self.webpackChunkastrobox_plugin_docs||[]).push([[147],{283:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"JS\u63a5\u53e3/interconnect","title":"Interconnect","description":"\u529f\u80fd\u7b80\u4ecb","source":"@site/docs/JS\u63a5\u53e3/interconnect.md","sourceDirName":"JS\u63a5\u53e3","slug":"/JS\u63a5\u53e3/interconnect","permalink":"/docs/JS\u63a5\u53e3/interconnect","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/JS\u63a5\u53e3/interconnect.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Installer","permalink":"/docs/JS\u63a5\u53e3/installer"},"next":{"title":"Lifecycle","permalink":"/docs/JS\u63a5\u53e3/lifecycle"}}');var r=s(4848),c=s(8453);const i={},o="Interconnect",l={},d=[{value:"\u529f\u80fd\u7b80\u4ecb",id:"\u529f\u80fd\u7b80\u4ecb",level:2},{value:"\u6743\u9650\u58f0\u660e",id:"\u6743\u9650\u58f0\u660e",level:2},{value:"\u63a5\u53e3",id:"\u63a5\u53e3",level:2},{value:"\u63a5\u6536\u6d88\u606f",id:"\u63a5\u6536\u6d88\u606f",level:3},{value:"sendQAICMessage",id:"sendqaicmessage",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"interconnect",children:"Interconnect"})}),"\n",(0,r.jsx)(n.h2,{id:"\u529f\u80fd\u7b80\u4ecb",children:"\u529f\u80fd\u7b80\u4ecb"}),"\n",(0,r.jsx)(n.p,{children:"\u5b9e\u73b0\u4e0e\u5feb\u5e94\u7528\u7684Interconnect\u901a\u4fe1\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u6743\u9650\u58f0\u660e",children:"\u6743\u9650\u58f0\u660e"}),"\n",(0,r.jsxs)(n.p,{children:["\u4f7f\u7528\u6b64\u63a5\u53e3\u9700\u8981\u5411manifest\u7684permissions\u4e2d\u52a0\u5165",(0,r.jsx)(n.code,{children:"interconnect"}),"\u6743\u9650"]}),"\n",(0,r.jsx)(n.h2,{id:"\u63a5\u53e3",children:"\u63a5\u53e3"}),"\n",(0,r.jsx)(n.h3,{id:"\u63a5\u6536\u6d88\u606f",children:"\u63a5\u6536\u6d88\u606f"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u9700\u63a5\u6536\u6765\u81ea\u5feb\u5e94\u7528\u7684\u6d88\u606f\uff0c\u8bf7\u4f7f\u7528",(0,r.jsx)(n.a,{href:"event",children:"Event"}),"\u63a5\u53e3\uff0c\u5e76\u6dfb\u52a0\u540d\u4e3a",(0,r.jsx)(n.code,{children:"onQAICMessage_<\u5305\u540d>"}),"\u7684Listener\u5b9e\u73b0\u6d88\u606f\u63a5\u6536"]}),"\n",(0,r.jsx)(n.h3,{id:"sendqaicmessage",children:"sendQAICMessage"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u7b7e\u540d"}),"\uff1a",(0,r.jsx)(n.code,{children:"sendQAICMessage(pkgName: string, data: string): Promise<void>"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u53c2\u6570"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pkgName"})," \u2013 \u76ee\u6807\u7b2c\u4e09\u65b9\u5e94\u7528\u5305\u540d"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data"})," \u2013 JSON \u5b57\u7b26\u4e32\u6216\u7ecf Base64 \u7f16\u7801\u7684\u4e1a\u52a1\u6570\u636e"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u8fd4\u56de"}),"\uff1a",(0,r.jsx)(n.code,{children:"Promise<void>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import AstroBox from "astrobox-plugin-sdk";\n\nawait AstroBox.interconnect.sendQAICMessage(\n  "com.example.app",\n  JSON.stringify({ cmd: "ping" })\n);\n'})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(6540);const r={},c=t.createContext(r);function i(e){const n=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);